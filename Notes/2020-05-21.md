# Notes for supervision

## 21st May 2020

### Clustering

#### Time-series clustering

The clusters are generated using the Sci Kit Learn `k-means` function with precipicitation timeseries of 40 year period. Plotting these clusters brought to light a number of NaNs in the dataset. Using linear interpolation along the coordinates axes, similar results are achieved between different decades for N<6 (see below).

How many nans?

![2-4](https://dl.dropboxusercontent.com/s/4az1r59pc1tpox5/Screenshot%202020-05-18%20at%2015.14.57.png?dl=0)
![5-7](https://dl.dropboxusercontent.com/s/1ycrub5jjqgc6mt/Screenshot%202020-05-18%20at%2015.14.03.png?dl=0)
![8-10](https://dl.dropboxusercontent.com/s/z3kafm55ye62rti/Screenshot%202020-05-18%20at%2015.12.08.png?dl=0)

#### Low confidence filtering

Applying a retrospective [soft k-means](https://towardsdatascience.com/confidence-in-k-means-d7d3a13ca856) function to the results, the confidence or 'weight' of each vector is calculated. In the example below, vectors attributed a weight of less than 0.7 are filtered out.

### Metrics

I was able to find almost all the data I needed from our previous discussion with Emily Potter and Andrew Orr from the [ERA5 monthly averaged data on single levels](https://cds.climate.copernicus.eu/cdsapp#!/dataset/reanalysis-era5-single-levels-monthly-means?tab=overview)

* Strength and onset of frontal systems
  * IMS
    * 
  * Westerlies
    * 

* Relative humidity
  * 2m dew point temperature (K)
  * total column water vapour (kg m<sup>-2</sup>)

* Orography
  * orography (m<sup>2</sup> s<sup>-2</sup>)
  * orientation of subgrid scale orography (radians)
  * slope of subgrid scale orography (dimensionless)