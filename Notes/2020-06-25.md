# Notes for supervision

## 25th June 2020

### MRes report and PhD proposal

* [Report outline](https://www.dropbox.com/s/ufaf2761jwlvgex/MRes%20Report%20Outline.docx?dl=0)
* Outcomes from OECD meeting:
  * The OECD is speaking to the organisations who would use my model outputs.
  * Get in touch with discussed regional/national organisations for more specific input.
  * How should I be presenting my work? Confusion as to whether I am climate or weather forecasting.
  * Maybe a talk at the end of the year.

### Clusters predictions

The correlation between precipitation locations is extremely high within the clusters generated by the soft k-means (see plots below). This is problematic because the model can quite happily assign the same regression outputs for valiation and testing as a neighboring training points, rather than predicting from the other features.

Despite this we shall proceed with a straingforward adaption of the set separation.

* the last chronogical 10% of each vector for a given location removed.
* the remainded of each location vector is folded 5 times.
* the sets from each location vector are concatenated.

The result below are for the averaged ERA5 data (large scale averaged temperature, no NAO or Nino 4 indices)

|               | Training R2 | Training RMSE | Validation R2 | Validation RMSE | Predicted TP mean | Predicted TP std |
| ------------- | ----------- | ------------- | ------------- | --------------- | ----------------- | ---------------- |
| Khyber | 
| Gilgit |
| Ngari  |

### Ensemble Training

The ERA5 Ensemble Data Assimilation (EDA) consists of an ensemble of ten independent lower-resolution 4D-Var assimilations that differ by perturbing observations, sea surface temperature fields and model physics.

New function to train and apply a GP ensemble to the training data which returns the mean of predicted precipiation values for each point and the mean of the standard deviations.

### Averaged Large Scale 2m Temperature

The following table details the output of GP models with the averaged large scale 2m temperature for Gilgit (35.8884째N, 74.4584째E, 1500m). 

|               | Training R2 | Training RMSE | Validation R2 | Validation RMSE | Predicted TP mean | Predicted TP std |
| ------------- | ----------- | ------------- | ------------- | --------------- | ----------------- | ---------------- |
| Averaged data | 0.862 | 0.258 | 0.432 | 0.951 | 3.050 | 0.852 |
| Run 0         | 0.865 | 0.183 | 0.449 | 0.704 | 2.224 | 0.648 |
| Run 1         | 0.867 | 0.174 | 0.510 | __0.613__ | 2.221 | 0.589 |
| Run 2         | 0.865 | 0.181 | 0.389 | 0.742 | 2.190 | 1.500 |
| Run 3         | 0.866 | 0.175 | 0.476 | 0.680 | 2.220 | 0.608 |
| Run 4         | 0.865 | 0.174 | 0.427 | 0.672 | 2.198 | 0.608 |
| Run 5         | 0.801 | 0.262 | -0.517 | 1.965 | 2.317 | 1.803 |
| Run 6         | 0.880 | 0.155 | __0.477__ | 0.679 | 2.208 | 0.593 |
| Run 7         | 0.865 | 0.168 | __0.477__ | 0.626 | 2.203 | 0.601 |
| Run 8         | 0.874 | 0.167 | 0.450 | 0.720 | 2.199 | 0.522 |
| Run 9         | 0.865 | 0.183 | 0.426 | 0.683 | 2.229 | 0.664 |
| Ensemble      |

### Monthly CGTI

Di Capua et al. show a causal corralation between the Monsoon Through (MT) and the CircumGlobal Teleconection Index (CGTI). The CGTI is defined as the weekly mean geopotential height at 200hPa (Z200) over the region 35-40째N, 60-70째E. For the following results, the index is avarged to a monthly scale.

![Correlation heatmap]

|               | Training R2 | Training RMSE | Validation R2 | Validation RMSE | Predicted TP mean | Predicted TP std |
| ------------- | ----------- | ------------- | ------------- | --------------- | ----------------- | ---------------- |
| Ensemble      |

### EOFs

|               | Training R2 | Training RMSE | Validation R2 | Validation RMSE | Predicted TP mean | Predicted TP std |
| ------------- | ----------- | ------------- | ------------- | --------------- | ----------------- | ---------------- |
| Ensemble      |

### Composite Maps
